(this["webpackJsonpsample-startup-project"]=this["webpackJsonpsample-startup-project"]||[]).push([[5],{270:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(115),i=a(35),o=a.n(i),c=a(67),s=a(59),u=a(85),m=a(354),d=a(300),p=a(311),b=a(31),g=a(15),E=a(86),v=a(349),f=a(350),h=a(355),j=a(357),y=a(297),x=function(e){Object(j.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(v.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat("https://ydoppzs6k7.execute-api.ca-central-1.amazonaws.com/test","/api/v1/greeting/latest"),{method:"GET",crossDomain:!0,headers:{Accept:"application/json","Content-type":"application/json"}}).then((function(t){t.ok&&t.json().then((function(t){var a=t.greetingItems;e.setState({data:a})}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return this.state.data?r.a.createElement(d.a,null,0<this.state.data.length&&r.a.createElement(m.a,{pt:4,pb:4,pl:2,pr:2},r.a.createElement(l.b,null,r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"subtitle2"},"Previous greeting selections"),r.a.createElement(l.c,null),r.a.createElement(p.e,{initialValues:this.state.data},r.a.createElement(p.d,null,r.a.createElement(p.c,{name:"latest_greetings",render:function(t){return r.a.createElement("table",null,r.a.createElement("tbody",null,Object.values(e.state.data).map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,Object(E.a)(new Date(e.createdAt).toLocaleDateString().toString())),r.a.createElement("td",null,Object(E.d)(new Date(e.createdAt).toLocaleString().toString())),r.a.createElement("td",null,e.greeting))}))))}}))))))):"loading..."}}]),a}(r.a.Component),O=a(22),S=(a(373),a(379),a(382),a(377)),k=(a(99),a(375),a(170),a(291)),w=(Object(k.a)((function(e){return{button:{boxShadow:"none"},buttonError:{borderColor:e.palette.error.main,"&:hover":{borderColor:e.palette.error.main}}}})),a(383)),D=function(e){var t=e.field,a=t.value,i=Object(O.a)(t,["value"]),o=e.form,c=e.label,s=e.options,u=Object(O.a)(e,["field","form","label","options"]),m=o.touched[i.name],d=o.errors[i.name];return r.a.createElement(n.Fragment,null,c&&r.a.createElement(l.e,{label:c}),r.a.createElement(S.a,Object.assign({select:!0,fullWidth:!0,variant:"filled",error:m&&!!d,inputProps:{displayEmpty:!0},value:a||""},i,u),r.a.createElement(w.a,{value:"",disabled:!0},"Please Select"),s.map((function(e){return r.a.createElement(w.a,{key:e.value,value:e.value},e.label)}))),r.a.createElement(l.d,{error:r.a.createElement(p.a,{name:i.name})}))},F=(a(376),a(380),a(374),a(351),Object(k.a)((function(e){return{root:{"& > .MuiOutlinedInput-adornedEnd":{paddingRight:"0"}},iconButton:{paddingLeft:"10px",paddingRight:"10px",paddingTop:"9px",paddingBottom:"9px",borderTopRightRadius:"4px",borderBottomRightRadius:"4px",backgroundColor:e.palette.primary.main,borderRadius:0,"&:hover":{backgroundColor:e.palette.primary.main}},searchIcon:{color:"#FFFFFF"}}})),function(e){var t=e.isDisabled,a=e.submitLoading,n=e.submitError,i=Object(p.g)().values;return r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(d.a,{container:!0,spacing:2},r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"subtitle1"},"Select your favorite greeting"),r.a.createElement(l.c,null)),r.a.createElement(d.a,{item:!0,xs:12,md:6},r.a.createElement(p.b,{name:"greeting",component:D,label:"* Favorite Greeting",disabled:t,options:[{value:"Aloha",label:"Aloha"},{value:"Bonjour",label:"Bonjour"},{value:"Greetings and salutations",label:"Greetings and salutations"},{value:"Hello",label:"Hello"},{value:"Howdy",label:"Howdy"},{value:"Konichiwa",label:"Konichiwa"}]})),r.a.createElement(d.a,{item:!0,xs:12},r.a.createElement(d.a,{container:!0,justify:"center"},r.a.createElement(d.a,{item:!0,xs:8},r.a.createElement(l.a,{type:"submit",loading:a,disabled:""===i.greeting,size:"large",text:"Submit"}),n&&r.a.createElement(m.a,{pt:"1rem"},r.a.createElement(y.a,{variant:"body1",color:"error"},n)))))))}),C=Object(k.a)((function(e){return{card:{height:"123px",display:"flex",alignItems:"center",justifyContent:"center"},statusIcon:{height:"48px",marginRight:e.spacing(2)}}})),R=function(e){var t=e.id,a=e.lastest_greeting,n=C();return r.a.createElement(d.a,{container:!0,spacing:4},r.a.createElement(d.a,{xs:12,md:6,item:!0},r.a.createElement(l.b,{className:n.card},r.a.createElement("div",null,r.a.createElement(y.a,{component:"p",align:"center",variant:"overline",paragraph:!0},"Greeting Selection"),r.a.createElement(y.a,{align:"center",variant:"h1",color:"primary"},t)))),r.a.createElement(d.a,{xs:12,md:6,item:!0},r.a.createElement(l.b,{className:n.card},r.a.createElement(y.a,{variant:"subtitle2",color:"textSecondary"},a))))},A=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(y.a,{variant:"h2",color:"primary",gutterBottom:!0},"Simple Demo App"),r.a.createElement(y.a,{variant:"body1",paragraph:!0},"In order to get you started in your journey, we've provided you a small demonstration app. It consists of a database and a form.  In the form below, pick your favorite greeting and see it reflected here."))},I=function(e){var t=e.initialValues,a=void 0===t?null:t,r=e.isDisabled,l=Object(b.g)(),i=Object(n.useState)(!1),m=Object(u.a)(i,2),d=m[0],p=m[1],v=Object(n.useState)(!1),f=Object(u.a)(v,2),h=f[0],j=f[1],y=a||{greeting:""},x=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,i,s,u,m,b,v;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),n=Object(E.b)(t),e.next=4,fetch("".concat("https://ydoppzs6k7.execute-api.ca-central-1.amazonaws.com/test","/api/v1/greeting"),{method:"POST",crossDomain:!0,headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(Object(c.a)({},n))});case 4:if(i=e.sent,p(!1),!i.ok){e.next=22;break}return e.next=9,i.json();case 9:if(s=e.sent,u=s.id,m=s.greeting,!(b=s.error)){e.next=17;break}j(b.message||"Failed to submit this form"),e.next=20;break;case 17:return l.push(g.b.Confirmation,{id:u,greeting:m}),v=a||{id:u,greeting:m},e.abrupt("return",L({formValues:v,isDisabled:r,submitLoading:d,submitError:h,handleSubmit:x}));case 20:e.next=23;break;case 22:j(i.error||i.statusText||"Server error");case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return L({formValues:y,isDisabled:r,submitLoading:d,submitError:h,handleSubmit:x})},L=function(e){var t=e.formValues,a=void 0===t?null:t,n=e.isDisabled,i=e.submitLoading,o=e.submitError,c=e.handleSubmit,s=void 0===c?function(){}:c;return r.a.createElement(d.a,{item:!0,xs:12,sm:n?12:11,md:n?12:10,lg:n?12:8,xl:n?12:6},n&&a&&r.a.createElement(m.a,{pl:2,pr:2,pb:3},r.a.createElement(R,{id:a.id,lastest_greeting:a.greeting})),!n&&r.a.createElement(m.a,{pt:4,pb:4,pl:2,pr:2},r.a.createElement(A,null)),r.a.createElement(m.a,{pl:2,pr:2},r.a.createElement(l.b,null,r.a.createElement(p.e,{initialValues:a,validationSchema:g.a,onSubmit:s,enableReinitializeprop:!0},r.a.createElement(p.d,null,r.a.createElement(d.a,{container:!0,spacing:2},!n&&r.a.createElement(F,{submitLoading:i,submitError:o})))))),r.a.createElement(x,null))};t.default=function(){return r.a.createElement(l.f,null,r.a.createElement(I,null))}}}]);
//# sourceMappingURL=5.58539bf7.chunk.js.map